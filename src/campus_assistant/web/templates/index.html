<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{ app_name }}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Sora:wght@400;500;600;700&family=IBM+Plex+Mono:wght@500&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="/static/css/styles.css" />
  </head>
  <body>
    <div class="bg-glow bg-glow-a"></div>
    <div class="bg-glow bg-glow-b"></div>

    <header class="topbar">
      <div class="brand">
        <span class="badge">AI Campus</span>
        <h1>{{ app_name }}</h1>
      </div>
      <div class="top-actions">
        <a class="btn btn-studio-link" href="/studio/login">Data Studio Login</a>
        <a class="top-link" href="https://my.umbc.edu/events" target="_blank" rel="noreferrer">UMBC Events</a>
      </div>
    </header>

    <main class="container">
      <section class="assistant-shell card">
        <div class="assistant-layout">
          <aside class="rail related-rail">
            <div class="rail-head">
              <h3>Related Information</h3>
            </div>
            <p class="rail-subtitle">Query-matched class details, deadlines, and evidence.</p>
            <div id="relatedInfoList" class="related-list"></div>
          </aside>

          <section class="chat-rail">
            <div class="chat-stage">
              <div id="chatMessages" class="chat-messages"></div>
            </div>

            <form id="chatForm" class="chat-input-row">
              <input id="chatInput" placeholder="Ask a campus question... e.g., what classes are listed for upcoming semester in data stream?" autocomplete="off" />
              <button class="btn btn-primary" type="submit">Send</button>
            </form>
          </section>

          <aside class="rail promo-rail">
            <div class="rail-head">
              <h3>Campus Promotions</h3>
              <button id="btnRefreshPromotions" class="btn btn-mini" type="button">Refresh</button>
            </div>
            <p class="rail-subtitle">Announcements and promotions campus wants students to know.</p>
            <div id="promotionList" class="promotion-list"></div>
          </aside>
        </div>
      </section>
    </main>

    <div id="toast" class="toast"></div>
    <script>
      window.APP_DEFAULT_TOP_K = {{ top_k }};
    </script>
    <script src="/static/js/app.js"></script>
  </body>
</html>
